{"./":{"url":"./","title":"Introduction","keywords":"","body":"介绍 这个就是一个我的书籍 "},"1/1.1.html":{"url":"1/1.1.html","title":"1.1 登入界面","keywords":"","body":"1.1.登入界面 1.1.1.登入 Request: GET /users/login { “login”: “tester”, (用户名/电话) “password”: “12346” } Response: { “token\": “fesrglkthtgrtgktlttthy” } ParameterException(“Invalid user name or password.”) - 400, 用户名/电话/电邮/密码不对 UserAccountException(“User account suspended.”) - 401, 帐户已被暂停 UserAccountException(“User account terminated.”) - 401, 帐户已被删除 "},"1/1.2.html":{"url":"1/1.2.html","title":"1.2.注册界面","keywords":"","body":"1.2.注册界面 1.2.1.查询用户名重复 Request: Get /users/name-check { “username”: “peter” } Response: { “exist\": true } 1.2.2.请求短信认证码 Request: POST /users/sms-verification { “mobile”: “13172008872” } Response: { “sent\": true } ParameterException(“Mobile number already existed.”) - 400, 手机号码已被使用 ParameterException(“Invalid mobile number.”) - 400, 手机号码无效 SMSException(“SMS cannot be sent.”) - 500, 无法发出短信 1.2.3.用户注册 Request: POST /users { “username”: “peter”, “mobile”: “13172008872”, “smsVerificationCode”: “12321”, “password”: “dy201817” } Response: { “token\": “sjhkrsgkhsdk4565hjy6jh” } ParameterException(“Username must be at least 2 charactres long and contains at least one non-numeric character.”) - 400, 用户名长度不得少于2字及必须包含最少一个非数字字符 ParameterException(“Username already existed.”) - 400, 用户名已被使用 ParameterException(“Invalid mobile number.”) - 400, 手机号码无效 ParameterException(“Mobile number already existed.”) - 400, 手机号码已被使用 ParameterException(“Invalid SMS verification code.”) - 400, 短信认证码错误或过期（十分钟） ParameterException(“Password must be at least 6 character long and contains both letter and number.”) - 400, 密码长度必须为6位以上及同时包含数字和非数字字符 "},"1/1.3.html":{"url":"1/1.3.html","title":"1.3. 帐户设置界面 – 基本资料","keywords":"","body":"1.3.帐户设置界面 – 基本资料 1.3.1.更新基本资料 Request: PUT /users { “surname”: “test test”, “givenName”: “test test”, “email”: “test test”, “gender”: 1, “birthday”: “1988-08-08” } Response: { “result”:”ok” } ParameterException(“Email not in correct format.”) - 400, 电邮地址格式错误 "},"1/1.4.html":{"url":"1/1.4.html","title":"1.4. 帐户设置界面 – 手机号码","keywords":"","body":"1.4.帐户设置界面 – 手机号码 1.4.1.更新手机 Request: PUT /users/mobile { “mobile”: “13172008872”, “smsVerificationCode”: “321123” } Response: { “result”:”ok” } ParameterException(“Invalid mobile number.”) - 400, 手机号码无效 ParameterException(“Mobile number already existed.”) - 400, 手机号码已被使用 ParameterException(“Invalid SMS verification code.”) - 400, 短信认证码错误或过期（十分钟） "},"1/1.5.html":{"url":"1/1.5.html","title":"1.5.帐户设置界面 – 更新密码","keywords":"","body":"1.5.帐户设置界面 – 更新密码 1.5.1.更新密码 Request: PUT /users/password { “oldPassword”: “123456”, “newPassword”: “654321” } Response: { “result”:”ok” } ParameterException(“Incorrect existing password.”) - 400, 现有密码错误 ParameterException(“Password must be at least 6 character long and contains both letter and number.”) - 400, 密码长度必须为6位以上及同时包含数字和非数字字符 "},"2/2.1.html":{"url":"2/2.1.html","title":"2.1. Add Shop UI","keywords":"","body":"2.1.新增店面界面 2.1.1.查询店户名重复 Request: GET /shops/name-check { “shopName”: “test name” } Response: { “exist\": false } 2.1.2.查询店URL重复 Request: GET /shops /url-check { “shopUrlPath”: “shishishop” } Response: { “exist\": true } 2.1.3.开店 Request: POST /shops { “shopName”: “试试店”, “shopUrlPath”: “shishishop”, “currencyId”: 1, (1 for RMB) “description”: “test test test test…” } Response: { …shop 物件属性 } ParameterException(“Shop name already existed.”) - 400, 店名已被使用 ParameterException(“Shop URL already existed.”) - 400, 店铺网址已被使用 "},"2/2.2.html":{"url":"2/2.2.html","title":"2.2. 更新店面界面","keywords":"","body":"2.2.更新店面界面 2.2.1.取得店面属性 Request: GET /shops/{id} Response: { …shop 物件属性 } ResourceNotFoundException(“Shop record not found.”) - 404, 找不到店面记录 2.2.2.更新店面设定 Request: PUT /shops/{id} { “currencyId”: 1, (1 for RMB) “description”: “test test test test…” “isDefault”: true } Response: { …shop 物件属性 } ResourceNotFoundException(“Shop record not found.”) - 404, 找不到店面记录 AuthorizationException(“User not authorized to update shop ID - 12345.”) - 401, 用户没有权限更改此店铺 "},"2/2.3.html":{"url":"2/2.3.html","title":"2.3. Shop Listing UI","keywords":"","body":"2.3.店面列表 2.3.1.帐户店面列表 Request: GET /shops?offset=5&limit=10 Response: { \"result\": [ { “id”:12345, “shopName”:”teststore”, “shopStatusName”:”正常”, “designCount”:”9/38”, “orderCount”:”82/366” } ], \"paging\": { \"total\": 3, 表项目总数 \"offset\": 5, 跳过项目数 \"limit\": 10 限制项目数 } } "},"3/3.1.html":{"url":"3/3.1.html","title":"3.1. Design Product List","keywords":"","body":"3.1.上载设计界面 3.1.1.店面选项列表 Request: GET /shops/select-list Response: { \"result\": [ { “id”:12345, “shopName”:”teststore” }… ], } 3.1.2.原产品类别选项列表 Request: GET /categories/select-list?endnode=true Response: { \"result\": [ { “id”:12345, “categoryName”:”T 恤” } … ], } 3.1.3.上传设计图 Request: POST /files { “designId”: 3699 } Response: { “upload_token”: “redtgkhdfgkfdjg454t5T” } Request: POST file to 供应商 Response: { “externalfileId”:12345, “sourceImage”: ”65hyty.jpg”, “resizedImageL”:”8ghjgh.jpg”, “resizedImageM”:”ht63jg5.jpg”, “resizedImageS”:”43jhg5.jpg” } 3.1.4.提交到下一步 Request: POST /designs { “title”:”什么什么设计”, “fileId”:12345, “file”:[{ “externalfileId”:12345, “sourceImage”: ”65hyty.jpg”, “resizedImageL”:”hfjkh867.jpg”, “resizedImageM”:”ht63jg5.jpg”, “resizedImageS”:”43jhg5.jpg” }] } Response: { …design 物件 } "},"3/3.2.html":{"url":"3/3.2.html","title":"3.2.设计产品界面","keywords":"","body":"3.2.设计产品界面 3.2.1.设计产品选项列表 Request: GET /designs/{id}/product-designer Response: { \"result\": [ { “productId\": 123 “productId\": 123 “categoryName\": “标准印花T恤”, “productImageM\": “/3/123m_yii4586.jpg”, “productImageL\": “/3/123l_445fiuh.jpg”, “canvasWidth”: “6000px”, “canvasHeight”: “8000px”, “canvasMinWidth”: “1500px”, “canvasMinHeight”: “2000px”, “canvasScreenWidth”:”600px”, “canvasScreenHeight”:”800px”, “canvasScreenOffsetX”:”50px”, “canvasScreenOffsetY”:”60px”, “designFileWidth”: “6000px”, “designFileHeight”: “8000px”, “customizations”:{ “resizedImageL”: “/5/315l_45khh89.jpg”, “imagePositionX”: “0px”, “imagePositionY”: “0px”, “imageScaleX”: “1”, “imageScaleY”: “1”, “imageRepeatTypeId”:”1” } } ] } ParameterException(“Design not found”) - 400, 设计不存在 "}}